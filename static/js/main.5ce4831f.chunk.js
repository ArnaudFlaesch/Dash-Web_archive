(this["webpackJsonpdash-web"]=this["webpackJsonpdash-web"]||[]).push([[0],{276:function(e,t,n){},347:function(e,t){},349:function(e,t){},369:function(e,t){},371:function(e,t){},386:function(e,t){},388:function(e,t){},399:function(e,t){},401:function(e,t){},428:function(e,t,n){},429:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){},454:function(e,t,n){},455:function(e,t,n){},456:function(e,t,n){},573:function(e,t,n){},574:function(e,t,n){},575:function(e,t,n){},576:function(e,t,n){},577:function(e,t,n){"use strict";n.r(t);var a,c=n(16),i=n(39),r=n(158),s=n(13),o=n(6),d=n(0),l=n(112),u=n(99),j=n(599),b=n(589),h=n(600),f=(n(276),n(602)),m=n(590),O=n(591),p=n(592),v=n(583),x=n(584),g=n(585),w=n(586),C=n(587),y=n(588);!function(e){e[e.WEATHER=1]="WEATHER",e[e.RSS=2]="RSS",e[e.CALENDAR=3]="CALENDAR",e[e.STRAVA=4]="STRAVA",e[e.STEAM=5]="STEAM",e[e.TWITTER=6]="TWITTER",e[e.TWITTER_TIMELINE=7]="TWITTER_TIMELINE"}(a||(a={}));var k=n(1),N=function(e){return Object(k.jsx)("div",{className:"grid grid-cols-4 gap-3",children:Object.keys(a).map((function(t){return isNaN(parseInt(t,0))&&Object(k.jsxs)(v.a,{children:[Object(k.jsx)(x.a,{top:!0,width:"100%",src:"/assets/318x180.svg",alt:"Card image cap"}),Object(k.jsxs)(g.a,{children:[Object(k.jsx)(w.a,{children:t}),Object(k.jsxs)(C.a,{children:["Widget ",t]}),Object(k.jsxs)(y.a,{children:["Cliquez ci-dessous pour ajouter un widget ",t," au dashboard."]}),Object(k.jsx)(b.a,{id:t,onClick:e.onWidgetAdded,className:"btn btn-success",value:a[t],children:"Ajouter"})]})]},t)}))})};function S(e){var t=Object(d.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1];function i(){c(!a)}return Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{id:"openAddWidgetModal",className:"dashNavbarLink",onClick:i,children:Object(k.jsx)("i",{className:"fa fa-plus-circle fa-lg","aria-hidden":"true"})}),Object(k.jsxs)(f.a,{isOpen:a,size:"lg",toggle:i,children:[Object(k.jsx)(m.a,{toggle:i,children:"Ajouter un widget"}),Object(k.jsx)(O.a,{children:Object(k.jsx)(N,{onWidgetAdded:e.onWidgetAdded})}),Object(k.jsx)(p.a,{children:Object(k.jsx)(b.a,{id:"closeAddWidgetModal",color:"primary",onClick:i,children:"Fermer"})})]})]})}var D=n(15),A=n.n(D);function E(){if(localStorage.getItem("user")){var e=JSON.parse(localStorage.getItem("user")||"");return e&&e.accessToken?"Bearer "+e.accessToken:""}return""}var T=n(71),I=T.createLogger({format:T.format.combine(T.format.json(),T.format.colorize({all:!0})),level:"debug",transports:[new T.transports.Console]});function R(){var e=Object(d.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)(!1),i=Object(o.a)(c,2),r=i[0],s=i[1];function l(){s(!r)}return Object(k.jsxs)("div",{children:[Object(k.jsx)(b.a,{id:"openImportConfigModal",className:"dashNavbarLink",onClick:l,children:Object(k.jsx)("i",{className:"fa fa-upload fa-lg","aria-hidden":"true"})}),Object(k.jsxs)(f.a,{isOpen:r,toggle:l,children:[Object(k.jsx)(m.a,{toggle:l,children:"Importer la configuration"}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)("input",{type:"file",id:"file",name:"file",onChange:function(e){e.target.files&&e.target.files[0]&&a(e.target.files[0])}}),Object(k.jsx)("button",{id:"uploadFileButton",className:"btn btn-success",disabled:!n,onClick:function(){if(n)return function(e){var t=new FormData;return t.append("file",e),A.a.post("".concat("https://dash-webservices.herokuapp.com","/config/import"),t,{headers:{Authorization:E(),"content-type":"multipart/form-data"}})}(n).then((function(e){e&&l()})).catch((function(){I.error("Erreur lors de l'import du fichier")}))},children:"Upload"})]}),Object(k.jsx)(p.a,{children:Object(k.jsx)(b.a,{id:"closeImportConfigModal",color:"primary",onClick:l,children:"Fermer"})})]})]})}var _=n(593),B=n(594);function W(e){var t=Object(d.useState)(e.tab.label),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(!1),r=Object(o.a)(i,2),s=r[0],l=r[1];function u(){(function(e,t,n){return A.a.post("".concat("https://dash-webservices.herokuapp.com","/tab/updateTab"),{id:e,label:t,tabOrder:n},{headers:{Authorization:E(),"Content-type":"application/json"}})})(e.tab.id,a,e.tab.tabOrder).then((function(){l(!s)}))}return Object(k.jsx)(_.a,{className:"clickableItem",children:Object(k.jsx)(B.a,{onClick:e.onTabClicked,children:s?Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("input",{onDoubleClick:u,onKeyPress:function(e){"Enter"===e.key&&u()},onChange:function(e){return c(e.target.value)},value:a}),Object(k.jsx)(b.a,{className:"deleteTabButton",onClick:function(){var t;(t=e.tab.id,A.a.delete("".concat("https://dash-webservices.herokuapp.com","/tab/deleteTab/?id=").concat(t),{headers:{Authorization:E(),"Content-type":"application/json"}})).then((function(){return e.onTabDeleted(e.tab.id)}))},children:Object(k.jsx)("i",{className:"fa fa-trash"})})]}):Object(k.jsx)("span",{onDoubleClick:function(){l(!s)},children:a})})},e.tab.id)}var M={"Content-type":"application/json"};var z={login:function(e,t){return A.a.post("".concat("https://dash-webservices.herokuapp.com","/auth/login"),{username:e,password:t},{headers:M}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user"),window.location.reload()},getCurrentUser:function(){if(localStorage.getItem("user"))return JSON.parse(localStorage.getItem("user")||"")}};function L(){var e=Object(d.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)(""),i=Object(o.a)(c,2),r=i[0],s=i[1],l=Object(d.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(d.useState)(""),f=Object(o.a)(h,2),m=f[0],O=f[1];return Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)("input",{id:"inputUsername",type:"text",className:"form-control",name:"username",value:n,onChange:function(e){a(e.target.value)}})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)("input",{id:"inputPassword",type:"password",className:"form-control",name:"password",value:r,onChange:function(e){s(e.target.value)}})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsxs)("button",{id:"loginButton",disabled:!n||!r||j,onClick:function(){O(""),b(!0),n&&r?z.login(n,r).then((function(){window.location.reload(),b(!1)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();b(!1),O(t)})):b(!1)},className:"btn btn-success btn-block",children:[j&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)("span",{children:"Se connecter"})]})}),m&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:m})})]})})}var F="TOGGLE_TAB",U=function(e){return{type:F,payload:{id:e}}};function H(e,t){return A.a.patch("".concat("https://dash-webservices.herokuapp.com","/widget/updateWidgetData/").concat(e),{data:t},{headers:{Authorization:E(),"Content-type":"application/json"}})}var P,G=n(598),V=n(595);n(428);function Y(e){var t=Object(d.useState)(!1),n=Object(o.a)(t,2),a=n[0],c=n[1];Object(d.useEffect)((function(){e.isClosed&&c(!1)}),[e.isClosed]);return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{onClick:function(){!a&&e.onOpenDetail&&e.onOpenDetail(),c(!a)},className:"title",children:e.componentRoot}),Object(k.jsx)("div",{children:Object(k.jsx)(V.a,{isOpen:a,children:Object(k.jsx)(v.a,{children:Object(k.jsx)(g.a,{children:a&&e.componentDetail&&e.componentDetail})})})})]})}function J(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("h4",{children:"\xcates-vous s\xfbr de vouloir supprimer ce widget ?"}),Object(k.jsx)("button",{onClick:e.onCancelButtonClicked,className:"btn btn-primary cancelButton",children:"Annuler"}),Object(k.jsx)("button",{onClick:function(){e.onDeleteButtonClicked(e.idWidget)},className:"btn btn-danger validateDeletionButton",children:"Supprimer"})]})}function K(e){var t=Object(d.useState)(P.READ),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(u.useCustomEventListener)("refreshAllWidgets",(function(){e.refreshFunction()})),Object(d.useEffect)((function(){c(P.READ)}),[e.config]),Object(k.jsxs)("div",{children:[a===P.READ&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"header",children:[Object(k.jsx)("div",{className:"leftGroup widgetHeader",children:e.header}),Object(k.jsxs)("div",{className:"rightGroup",children:[e.additionalActionButtons,e.editModeComponent&&Object(k.jsx)("button",{onClick:function(){e.editModeComponent&&c(P.EDIT)},className:"btn btn-default editButton",children:Object(k.jsx)("i",{className:"fa fa-cog","aria-hidden":"true"})}),Object(k.jsx)("button",{onClick:e.refreshFunction,className:"btn btn-default refreshButton",children:Object(k.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})}),Object(k.jsx)("button",{onClick:function(){c(P.DELETE)},className:"btn btn-default deleteButton",children:Object(k.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"})})]})]}),e.body]}),a===P.DELETE&&Object(k.jsx)(J,{idWidget:e.id,onDeleteButtonClicked:e.onDeleteButtonClicked,onCancelButtonClicked:function(){c(P.READ)}}),a===P.EDIT&&null!==e.editModeComponent&&e.editModeComponent]})}!function(e){e[e.READ=1]="READ",e[e.EDIT=2]="EDIT",e[e.DELETE=3]="DELETE"}(P||(P={}));n(429);function q(e){return(e/100*360).toString()}function Q(e){return Object(k.jsxs)("div",{className:"progress mx-auto",children:[Object(k.jsx)("span",{className:"progressLeft",children:Object(k.jsx)("span",{style:{transform:e.value>50?"rotate(".concat(q(e.value-50),"deg) "):"unset"},className:"progressBar border-primary"})}),Object(k.jsx)("span",{className:"progressRight",children:Object(k.jsx)("span",{style:{transform:e.value>50?"rotate(180deg) ":"rotate(".concat(q(e.value),"deg) ")},className:"progressBar border-primary"})}),Object(k.jsx)("div",{className:"progressValue w-100 h-100 rounded-circle d-flex align-items-center justify-content-center",children:Object(k.jsxs)("div",{className:"h2 font-weight-bold",children:[Math.round(e.value),"%"]})})]})}function $(e){var t=Object(d.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)([]),r=Object(o.a)(i,2),s=r[0],l=r[1],u="".concat("https://api.steampowered.com","/ISteamUserStats/GetPlayerAchievements/v0001/?appid=").concat(e.appid,"&key=").concat("A326F74CDA403B3E1135FAFADC9EEF66","&steamid=").concat("76561198046131373");return Object(d.useEffect)((function(){A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/"),{headers:{Authorization:E(),"Content-type":"application/json"},params:{url:u}}).then((function(e){e.data.playerstats.achievements&&(c(e.data.playerstats.achievements),l(e.data.playerstats.achievements.filter((function(e){return 1===e.achieved}))))}))}),[e]),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("div",{children:e.name}),Object(k.jsx)("a",{href:"".concat("https://steamcommunity.com/app/").concat(e.appid),children:Object(k.jsx)("img",{src:"".concat("https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/apps/").concat(e.appid,"/").concat(e.img_logo_url,".jpg                  ")})})]}),a&&s&&a.length>0&&Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsxs)("div",{className:"flex flex-column",children:[Object(k.jsxs)("div",{className:"totalachievements",children:["Succ\xe8s : ",a.length]}),Object(k.jsxs)("div",{className:"completedAchievements",children:["Succ\xe8s compl\xe9t\xe9s : ",s.length]})]}),Object(k.jsx)(Q,{value:s.length/a.length*100})]})]})}function X(e){var t=Object(d.useState)(),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(),r=Object(o.a)(i,2),l=r[0],u=r[1],j="https://api.steampowered.com",b="/ISteamUser/GetPlayerSummaries/v0002/?key=".concat("A326F74CDA403B3E1135FAFADC9EEF66","&steamids=").concat("76561198046131373"),h="/IPlayerService/GetOwnedGames/v0001/?key=".concat("A326F74CDA403B3E1135FAFADC9EEF66","&steamid=").concat("76561198046131373","&format=json&include_appinfo=true");function f(){A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/"),{headers:{Authorization:E(),"Content-type":"application/json"},params:{url:"".concat(j).concat(b)}}).then((function(e){c(e.data.response.players[0])})).catch((function(e){I.error(e.message)})),A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/"),{headers:{Authorization:E(),"Content-type":"application/json"},params:{url:"".concat(j).concat(h)}}).then((function(e){u(e.data.response.games.sort((function(e,t){return e.name.localeCompare(t.name)})))})).catch((function(e){I.error(e.message)}))}Object(d.useEffect)((function(){f()}),[]);var m=Object(k.jsx)("div",{children:Object(k.jsxs)("a",{href:null===a||void 0===a?void 0:a.profileurl,className:"flex flex-row",children:[Object(k.jsx)("img",{src:null===a||void 0===a?void 0:a.avatar}),Object(k.jsx)("p",{children:null===a||void 0===a?void 0:a.personaname})]})}),O=Object(k.jsx)("div",{className:"flex flex-column",children:l&&l.map((function(e){return Object(k.jsx)(Y,{componentRoot:Object(k.jsxs)("div",{className:"gameInfo flex flex-row",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"".concat("https://cdn.cloudflare.steamstatic.com/steamcommunity/public/images/apps/").concat(e.appid,"/").concat(e.img_icon_url,".jpg                  ")})}),Object(k.jsx)("div",{children:e.name})]}),componentDetail:Object(k.jsx)($,Object(s.a)({},e)),link:"".concat("https://steamcommunity.com/app/").concat(e.appid)},e.appid)}))});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{},header:m,body:O,refreshFunction:f,onDeleteButtonClicked:e.onDeleteButtonClicked})}var Z=n(268);function ee(e){var t=Object(d.useState)(e.profile),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{id:"twitterProfileName",onChange:function(e){return c(e.target.value)},value:a,placeholder:"Saisissez le nom de l'utilisateur"}),Object(k.jsx)("button",{onClick:function(){a&&e.onProfileSubmitted(a)},disabled:!a||(null===a||void 0===a?void 0:a.length)<1,className:"btn btn-success",children:"Valider"})]})}function te(e){var t=Object(d.useState)(e.profile||""),n=Object(o.a)(t,2),a=n[0],c=n[1];Object(d.useEffect)((function(){e.profile&&c(e.profile)}),[]);var i=Object(k.jsxs)("div",{className:"timelineHeader",children:["Timeline de ",a]}),r=Object(k.jsx)("div",{children:a&&Object(k.jsx)(Z.a,{dataSource:{sourceType:"profile",screenName:a},options:{theme:"dark"}})});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{profile:a},header:i,body:r,editModeComponent:Object(k.jsx)(ee,{profile:a,onProfileSubmitted:function(t){H(e.id,{profile:t}).then((function(){c(t)})).catch((function(e){I.error(e.message)}))}}),refreshFunction:function(){I.info("Refresh Twitter timeline widget ".concat(a))},onDeleteButtonClicked:e.onDeleteButtonClicked})}var ne=n(27),ae=n(266),ce=n(260),ie=n(601),re=n(267),se=n(259),oe=n(254),de=n(162);n(432),n(433);function le(e){var t=Object(d.useState)(e.calendarUrls||[]),n=Object(o.a)(t,2),a=n[0],c=n[1],i=function(e){c(a.map((function(t,n){var a;return n.toString()===(null===(a=e.target)||void 0===a?void 0:a.id)?e.target.value:t})))};return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[a&&a.map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{id:t.toString(),onChange:i,value:e,placeholder:"Saisissez une URL"}),Object(k.jsx)("button",{className:"removeCalendarUrl btn btn-danger",onClick:function(){return t=e,void c(a.filter((function(e){return e!==t})));var t},children:"Supprimer"})]},t)})),Object(k.jsx)("button",{id:"addCalendarUrl",className:"btn btn-primary",onClick:function(){c(a.concat(""))},children:"Ajouter"})]}),Object(k.jsx)("button",{id:"validateCalendarUrls",onClick:function(){e.onConfigSubmitted(a)},disabled:!a||(null===a||void 0===a?void 0:a.length)<1,className:"btn btn-success",children:"Valider"})]})}function ue(e){var t=Object(d.useState)(e.calendars),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)([]),r=Object(o.a)(i,2),s=r[0],l=r[1],u={fr:ie.a},j=Object(de.b)({format:ae.a,parse:re.a,startOfWeek:se.a,getDay:ce.a,locales:u});function b(){l([]),null===a||void 0===a||a.map((function(e){A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/?url=").concat(e),{headers:{Authorization:E(),"Content-type":"application/json"}}).then((function(e){var t=oe.parseICS(e.data);l((function(e){return e.concat.apply(e,Object(ne.a)(Object.keys(t).map((function(e){var n,a,c=t[e];return{title:c.summary,start:c.start,end:c.end,allDay:0===(null===(n=c.end)||void 0===n?void 0:n.getHours())&&0===(null===(a=c.start)||void 0===a?void 0:a.getHours())}}))))}))})).catch((function(e){I.error(e)}))}))}Object(d.useEffect)((function(){b()}),[a]);var h=Object(k.jsx)("div",{children:"Calendar"}),f=Object(k.jsx)("div",{children:Object(k.jsx)(de.a,{localizer:j,culture:"fr",events:s,startAccessor:"start",endAccessor:"end",defaultView:"month",popup:!0,style:{height:500}})});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{calendars:a},header:h,body:f,editModeComponent:Object(k.jsx)(le,{calendarUrls:a,onConfigSubmitted:function(t){H(e.id,{calendars:t}).then((function(){t===a&&b(),c(t)})).catch((function(e){I.error(e.message)}))}}),refreshFunction:b,onDeleteButtonClicked:e.onDeleteButtonClicked})}var je=n(261),be=n.n(je);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(1e3*e+1e3*t)}function fe(e){var t=-60*(new Date).getTimezoneOffset();if(Math.abs(e)===Math.abs(t))return 0;var n=Math.abs(e)+Math.abs(t);return e<t?-n:n}n(454);function me(e){var t=document.createElement("div");return t.innerHTML=e||"",t.textContent||t.innerText||""}var Oe=function(e){return Object(k.jsxs)("div",{className:"article",children:[Object(k.jsx)("div",{className:"articleTitle",children:Object(k.jsx)("a",{href:e.link,children:e.title})}),Object(k.jsx)("div",{className:"articleContent",children:me(e.content)||me(e.description)}),Object(k.jsxs)("div",{className:"articlePubDate",children:["Publi\xe9 le ",(t=e.pubDate||"",new Date(t).toLocaleString("fr"))," ",e.author&&"par "+e.author]})]});var t};n(455);function pe(e){var t=Object(d.useState)(e.url),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{id:"rssFeedUrl",name:"url",onChange:function(e){return c(e.target.value)},value:a,placeholder:"Saisissez l'URL du flux RSS"}),Object(k.jsx)("button",{onClick:function(){a&&e.onUrlSubmitted(a)},disabled:!a||(null===a||void 0===a?void 0:a.length)<1,className:"btn btn-success",children:"Valider"})]})}n(456);function ve(e){var t=Object(d.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(e.url||""),r=Object(o.a)(i,2),l=r[0],u=r[1],j=Object(d.useState)(""),b=Object(o.a)(j,2),h=b[0],f=b[1],m=Object(d.useState)(),O=Object(o.a)(m,2),p=O[0],v=O[1],x=Object(d.useState)(""),g=Object(o.a)(x,2),w=g[0],C=g[1],y=Object(d.useState)(""),N=Object(o.a)(y,2),S=N[0],D=N[1],T=Object(d.useState)(!0),R=Object(o.a)(T,2),_=R[0],B=R[1],W=Object(d.useState)(e.readArticlesGuids||[]),M=Object(o.a)(W,2),z=M[0],L=M[1],F=new be.a;function U(){l&&A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/?url=").concat(l),{headers:{Authorization:E(),"Content-type":"application/json"}}).then((function(e){F.parseString(e.data).then((function(e){var t=e;f(t.description),c(t.items),v(t.image),C(t.link),D(t.title)})).catch((function(e){I.error(e.message)}))})).catch((function(e){I.error(e.message)}))}function P(){c([]),U()}function G(e){var t=e.pubDate?new Date(e.pubDate).toLocaleTimeString("fr",{hour:"2-digit",minute:"2-digit"}):"";return Object(k.jsxs)("div",{className:"rssArticle ".concat(z.includes(e.guid)?"read":""),children:[t," ",e.title]})}function V(t){H(e.id,{url:l,readArticlesGuids:t}).then((function(e){L(e.data.data.readArticlesGuids)})).catch((function(e){I.error(e.message)}))}Object(d.useEffect)((function(){U()}),[l]);var J,q=Object(k.jsx)("div",{className:"rssWidgetTitle",children:Object(k.jsxs)("a",{href:w,className:"flex flex-row",children:[p&&Object(k.jsx)("div",{children:Object(k.jsx)("img",{className:"imgLogoRSS",src:null===p||void 0===p?void 0:p.url,alt:"logo"})}),Object(k.jsx)("div",{className:"rssTitle",children:S})]})}),Q=Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("button",{onClick:function(){V(a.map((function(e){return e.guid})))},className:"btn btn-default markAllArticlesAsRead",children:Object(k.jsx)("i",{className:"fa fa-check-circle-o","aria-hidden":"true"})}),Object(k.jsx)("button",{onClick:function(){B(!0)},className:"btn btn-default minimizeAllArticles",children:Object(k.jsx)("i",{className:"fa fa-window-minimize","aria-hidden":"true"})})]}),$=Object(k.jsx)("div",{children:l&&a&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"rssDescription",children:h}),Object(k.jsx)("div",{className:"feed",children:(J=a,J.map((function(e){return Object(k.jsx)(Y,{componentRoot:G(e),componentDetail:Object(k.jsx)(Oe,Object(s.a)({},e)),link:e.link,isClosed:_,onOpenDetail:function(){return t=e.guid,B(!1),void(z.includes(t)||V([t].concat(Object(ne.a)(z))));var t}},e.guid)})))})]})});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{url:l},header:q,additionalActionButtons:Q,body:$,editModeComponent:Object(k.jsx)(pe,{url:l,onUrlSubmitted:function(t){H(e.id,{url:t,guidsList:[]}).then((function(){u(t),P()})).catch((function(e){I.error(e.message)}))}}),refreshFunction:P,onDeleteButtonClicked:e.onDeleteButtonClicked})}var xe=n(262),ge=n(23);function we(e,t){var n=Object(d.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return I.error(a),t}})),a=Object(o.a)(n,2),c=a[0],i=a[1];return[c,function(t){try{var n=t instanceof Function?t(c):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){I.error(a)}}]}function Ce(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsxs)("a",{href:"https://www.strava.com/activities/".concat(e.id),children:[Object(ae.a)(new Date(e.start_date_local),"dd MMM")," ",e.name]})}),Object(k.jsxs)("div",{children:["Distance : ",Math.round(1e3*e.distance)/1e4," kms"]}),Object(k.jsxs)("div",{children:["Dur\xe9e : ",e.moving_time/60," mins"]}),Object(k.jsxs)("div",{children:["Denivel\xe9 : ",e.total_elevation_gain]}),Object(k.jsxs)("div",{children:["Troph\xe9es : ",e.achievement_count]}),Object(k.jsxs)("div",{children:["Vitesse moyenne : ",e.average_speed]}),Object(k.jsxs)("div",{children:["Vitesse max : ",e.max_speed]}),Object(k.jsxs)("div",{children:["Kudos : ",e.kudos_count]}),Object(k.jsxs)("div",{children:["Commentaires : ",e.comment_count]})]})}var ye=n(596),ke=n(597),Ne=n(106);function Se(e){var t=Object(d.useState)([]),n=Object(o.a)(t,2),a=n[0],c=n[1],i=Object(d.useState)(),r=Object(o.a)(i,2),l=r[0],u=r[1],j=we("strava_token",null),h=Object(o.a)(j,2),f=h[0],m=h[1],O=we("strava_refresh_token",null),p=Object(o.a)(O,2),v=p[0],x=p[1],g=we("strava_token_expires_at",null),w=Object(o.a)(g,2),C=w[0],y=w[1],N=Object(ge.d)().search;function S(){c([]),f&&A.a.get("https://www.strava.com/api/v3/athlete",{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){u(e.data)})).catch((function(e){I.error(e.message)})),f&&C&&Object(ke.a)(new Date(1e3*C),new Date)?A.a.get("https://www.strava.com/api/v3/athlete/activities?page=1&per_page=".concat(20),{headers:{Authorization:"Bearer ".concat(f)}}).then((function(e){c(e.data.reverse())})).catch((function(e){I.error(e.message)})):D()}function D(){v?A.a.post("https://www.strava.com/oauth/token",{client_id:"30391",client_secret:"66cf349fa75b4f87701342463c9d69bea1acc1ed",refresh_token:v,grant_type:"refresh_token"}).then((function(e){m(e.data.access_token),x(e.data.refresh_token),y(e.data.expires_at),u(e.data.athlete)})).catch((function(e){I.error(e.message)})):I.error("No refresh token")}function E(){return a.reduce((function(e,t){var n=Object(ae.a)(new Date(t.start_date_local),"yyyy-MM");return e[n]||(e[n]=[]),e[n].push(Math.round(1e3*t.distance)/1e6),e}),[])}function T(){var e=E();return Object.keys(e).map((function(t){return{x:new Date(t),y:Math.round(e[t].reduce((function(e,t){return e+t})))}}))}Object(d.useEffect)((function(){var e=xe.parse(N);e&&e.code&&function(e){A.a.post("https://www.strava.com/oauth/token",{client_id:"30391",client_secret:"66cf349fa75b4f87701342463c9d69bea1acc1ed",code:e,grant_type:"authorization_code"}).then((function(e){m(e.data.access_token),x(e.data.refresh_token),y(e.data.expires_at),u(e.data.athlete)})).catch((function(e){I.error(e.message)}))}(e.code.toString());f&&v&&!Object(ye.a)(new Date(1e3*C),new Date)||D()}),[]),Object(d.useEffect)((function(){f&&S()}),[f]);var R=Object(k.jsx)("div",{children:Object(k.jsxs)("a",{href:"https://www.strava.com/athletes/".concat(null===l||void 0===l?void 0:l.id),className:"flex flex-row",children:[Object(k.jsx)("img",{src:null===l||void 0===l?void 0:l.profile_medium}),Object(k.jsxs)("p",{children:[null===l||void 0===l?void 0:l.firstname," ",null===l||void 0===l?void 0:l.lastname]})]})}),_=Object(k.jsxs)("div",{className:"flex flex-column",children:[f&&v&&C&&Object(ke.a)(new Date(1e3*C),new Date)&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{style:{height:"20vh",overflowY:"scroll"},children:a.slice().reverse().map((function(e){return Object(k.jsx)(Y,{componentRoot:"".concat(Object(ae.a)(new Date(e.start_date_local),"dd MMM"),"  ").concat(e.name,"  ").concat(Math.round(1e3*e.distance)/1e6," kms"),componentDetail:Object(k.jsx)(Ce,Object(s.a)({},e)),link:"https://www.strava.com/activities/".concat(e.id)},e.id)}))}),Object(k.jsx)("div",{style:{minHeight:"25vh",maxHeight:"80vh",flex:"1 0 50%"},children:Object(k.jsx)(Ne.b,{type:"bar",data:{labels:T().map((function(e){return Object(ae.a)(e.x,"MMM yyyy")})),datasets:[{label:"Distance (kms)",backgroundColor:"orange",data:T().map((function(e){return e.y})),yAxisID:"kms",order:2},{label:"Activit\xe9s",type:"line",backgroundColor:"darkgreen",data:Object.keys(E()).map((function(e){return E()[e].length})),yAxisID:"activities",order:1}]}})})]}),(!f||!v||C&&Object(ye.a)(new Date(1e3*C),new Date))&&Object(k.jsx)("a",{href:"https://www.strava.com/oauth/authorize?client_id=".concat("30391","&redirect_uri=").concat("https://arnaudflaesch.github.io/Dash-Web/","&response_type=code&scope=read,activity:read"),children:Object(k.jsx)(b.a,{children:"Se connecter"})})]});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{},header:R,body:_,refreshFunction:S,onDeleteButtonClicked:e.onDeleteButtonClicked})}n(573);function De(e){var t=Object(d.useState)(e.city||""),n=Object(o.a)(t,2),a=n[0],c=n[1];return Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{id:"cityNameInput",name:"city",onChange:function(e){return c(e.target.value)},value:a,placeholder:"Saisissez de nom de la ville"}),Object(k.jsx)("button",{id:"validateButton",className:"btn btn-success",onClick:function(){e.onConfigSubmitted(a)},disabled:!a||(null===a||void 0===a?void 0:a.length)<1,children:"Valider"})]})}n(574);var Ae,Ee=function(e){var t,n,a;return Object(k.jsxs)("div",{className:"forecast",children:[Object(k.jsx)("div",{children:he(e.dt,fe(e.city.timezone)).toLocaleString("fr",{weekday:"short",day:"numeric",hour:"2-digit"})}),Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(null===(t=e.weather[0])||void 0===t?void 0:t.icon,"@2x.png"),className:"smallImage",title:null===(n=e.weather[0])||void 0===n?void 0:n.description,alt:null===(a=e.weather[0])||void 0===a?void 0:a.description})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-thermometer-three-quarters fa-sm mr-3",style:{color:"crimson"}}),e.main.temp_max,"\xb0"]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-thermometer-quarter fa-sm mr-3",style:{color:"blue"}}),e.main.temp_min,"\xb0"]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-tint fa-sm mr-3",style:{color:"lightblue"}}),e.main.humidity,"%"]})]})]})]})};n(575);function Te(e){var t="https://api.openweathermap.org/data/2.5/",n="?units=metric&lang=fr&appid=",a=Object(d.useState)(e.city),c=Object(o.a)(a,2),i=c[0],r=c[1],l=Object(d.useState)(),u=Object(o.a)(l,2),j=u[0],b=u[1],h=Object(d.useState)(),f=Object(o.a)(h,2),m=f[0],O=f[1],p=Object(d.useState)(),v=Object(o.a)(p,2),x=v[0],g=v[1],w=Object(d.useState)(Ae.TODAY),C=Object(o.a)(w,2),y=C[0],N=C[1];function S(){i&&(A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/"),{headers:{Authorization:E(),"Content-type":"application/json"},params:{url:"".concat(t).concat("weather").concat(n).concat("d10750704319701c3f9436134add4d7d","&q=").concat(i)}}).then((function(e){b(e.data)})).catch((function(e){I.error(e)})),A.a.get("".concat("https://dash-webservices.herokuapp.com","/proxy/"),{headers:{Authorization:E(),"Content-type":"application/json"},params:{url:"".concat(t).concat("forecast").concat(n).concat("d10750704319701c3f9436134add4d7d","&q=").concat(i)}}).then((function(e){O(e.data.list),g(e.data.city)})).catch((function(e){I.error(e.message)})))}function D(){b(void 0),O(void 0),g(void 0),S()}function T(){if(!x||!m)return[];switch(y){case Ae.WEEK:return m.filter((function(e){return 17===he(e.dt,fe(x.timezone)).getHours()}));case Ae.TOMORROW:return m.filter((function(e){return new Date(1e3*e.dt).getDay()===new Date(+new Date+864e5).getDay()&&new Date(1e3*e.dt).getHours()>=7}));case Ae.TODAY:default:return m.filter((function(e){return new Date(1e3*e.dt).getDay()===(new Date).getDay()&&new Date(1e3*e.dt).getHours()>=7}))}}Object(d.useEffect)((function(){S()}),[i]);var R=Object(k.jsxs)("div",{children:["La m\xe9t\xe9o aujourd'hui \xe0 ",null===x||void 0===x?void 0:x.name]}),_=Object(k.jsxs)("div",{children:[x&&j&&j.weather&&Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{style:{width:"80px"},src:"https://openweathermap.org/img/wn/".concat(j.weather[0].icon,"@2x.png"),title:j.weather[0].description,alt:j.weather[0].description})}),Object(k.jsxs)("div",{className:"flex flex-row",style:{placeItems:"center"},children:[Object(k.jsxs)("div",{className:"flexColumn mr-5",children:[Object(k.jsx)("div",{children:j.weather[0].description}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-thermometer-three-quarters fa-md"})," ",j.main.temp,"\xb0"]})]}),Object(k.jsxs)("div",{className:"flexColumn",children:[Object(k.jsxs)("div",{className:"spaceBetween",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-sun-o fa-md"})," ",he(j.sys.sunrise,fe(j.timezone)).toLocaleTimeString("fr")]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-moon-o fa-md"})," ",he(j.sys.sunset,fe(j.timezone)).toLocaleTimeString("fr")]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-clock-o fa-md"})," ",he(j.dt,fe(j.timezone)).toLocaleString("fr")]})]})]})]}),x&&m&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex flex-row space-x-10",children:[Object(k.jsx)("span",{className:"font-bold",children:"Pr\xe9visions"}),Object(k.jsxs)("span",{className:"flex flex-row space-x-1",children:[Object(k.jsx)("button",{id:"toggleTodayForecast",onClick:function(){N(Ae.TODAY)},className:"btn btn-".concat(y===Ae.TODAY?"success":"primary"," "),children:"Aujourd'hui"}),Object(k.jsx)("button",{id:"toggleTomorrowForecast",onClick:function(){N(Ae.TOMORROW)},className:"btn btn-".concat(y===Ae.TOMORROW?"success":"primary"),children:"Demain"}),Object(k.jsx)("button",{id:"toggleWeekForecast",onClick:function(){N(Ae.WEEK)},className:"btn btn-".concat(y===Ae.WEEK?"success":"primary"),children:"Semaine"})]})]}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{style:{height:"20vh",maxWidth:"100%"},children:Object(k.jsx)(Ne.a,{data:{labels:T().map((function(e){return y===Ae.TODAY||y===Ae.TOMORROW?Object(ae.a)(new Date(1e3*e.dt),"HH"):Object(ae.a)(new Date(1e3*e.dt),"EEE dd MMM")})),datasets:[{label:"Temp\xe9rature",borderColor:"orange",data:T().map((function(e){return e.main.temp_max}))},{label:"Ressenti",borderColor:"red",data:T().map((function(e){return e.main.feels_like}))}]},options:{maintainAspectRatio:!1}})}),Object(k.jsx)("div",{className:"flex flex-row forecastRow",children:x&&m&&T().map((function(e){return Object(k.jsx)("div",{className:"forecastContainer",children:Object(k.jsx)(Ee,Object(s.a)(Object(s.a)({},e),{},{city:x}))},e.dt)}))})]})]});return Object(k.jsx)(K,{id:e.id,tabId:e.tabId,config:{city:x},header:R,body:_,editModeComponent:Object(k.jsx)(De,{city:i,onConfigSubmitted:function(t){H(e.id,{city:t}).then((function(){r(t),D()})).catch((function(e){I.error(e.message)}))}}),refreshFunction:D,onDeleteButtonClicked:e.onDeleteButtonClicked})}function Ie(e){var t=Object(d.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],l=Object(i.d)((function(e){return e.activeTab}));function u(e){switch(e.type){case a.WEATHER:return Object(k.jsx)(Te,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));case a.RSS:return Object(k.jsx)(ve,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));case a.CALENDAR:return Object(k.jsx)(ue,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));case a.STRAVA:return Object(k.jsx)(Se,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));case a.STEAM:return Object(k.jsx)(X,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));case a.TWITTER_TIMELINE:return Object(k.jsx)(te,Object(s.a)(Object(s.a)({id:e.id,tabId:e.tab.id},e.data),{},{onDeleteButtonClicked:j}));default:return}}function j(e){(function(e){return A.a.delete("".concat("https://dash-webservices.herokuapp.com","/widget/deleteWidget/?id=").concat(e),{headers:{Authorization:E(),"Content-type":"application/json"}})})(e).then((function(t){t&&r(c.filter((function(t){return t.id!==e})))})).catch((function(e){I.error(e.message)}))}return Object(d.useEffect)((function(){l===e.tabId&&fetch("".concat("https://dash-webservices.herokuapp.com","/widget/?tabId=").concat(e.tabId),{headers:{Authorization:E(),"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){I.error(e.message)}))}),[l]),Object(d.useEffect)((function(){e.newWidget&&r(c.concat([e.newWidget]))}),[null!=e.newWidget&&e.newWidget.id]),Object(k.jsx)(G.a,{tabId:e.tabId,children:Object(k.jsx)("div",{className:"widgetList",children:c&&c.length>0&&c.map((function(e){return Object(k.jsx)("div",{className:"widget",children:u(e)},e.id)}))})})}function Re(){var e=Object(d.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(d.useState)(),r=Object(o.a)(c,2),f=r[0],m=r[1],O=Object(i.d)((function(e){return e.activeTab})),p=Object(i.c)(),v=Object(d.useRef)(!1);function x(){Object(u.emitCustomEvent)("refreshAllWidgets")}function g(){var e;(e="Nouvel onglet",A.a.post("".concat("https://dash-webservices.herokuapp.com","/tab/addTab"),{label:e},{headers:{Authorization:E(),"Content-type":"application/json"}})).then((function(e){var t=e.data;a(n.concat(t)),p(U(t.id))}))}function w(e){n.length>1&&(n[0].id===e?p(U(n[1].id)):p(U(O===e?n[0].id:O))),a(n.filter((function(t){return t.id!==e})))}return Object(d.useEffect)((function(){var e=setInterval(x,9e5);return function(){return clearInterval(e)}}),[]),Object(d.useEffect)((function(){v.current&&n&&0===n.length&&g()}),[n]),Object(d.useEffect)((function(){fetch("".concat("https://dash-webservices.herokuapp.com","/tab/"),{headers:{Authorization:E(),"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e),e&&e.length>0&&p(U(e[0].id)),v.current=!0})).catch((function(e){I.error(e.message)}))}),[]),Object(k.jsxs)("div",{className:"dash",children:[!z.getCurrentUser()&&Object(k.jsx)(L,{}),z.getCurrentUser()&&Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)("div",{className:"dashNavbar",children:O&&n.length>0&&Object(k.jsxs)(j.a,{vertical:!0,navbar:!0,children:[Object(k.jsx)(S,{onWidgetAdded:function(e){O&&function(e,t){return A.a.post("".concat("https://dash-webservices.herokuapp.com","/widget/addWidget"),{type:e,tab:{id:t}},{headers:{Authorization:E(),"Content-type":"application/json"}})}(e.currentTarget.value,O).then((function(e){if(e){var t=e.data;m(t)}})).catch((function(e){I.error(e.message)}))}}),Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{id:"reloadAllWidgetsButton",className:"dashNavbarLink",onClick:x,children:Object(k.jsx)("i",{className:"fa fa-refresh fa-lg","aria-hidden":"true"})})}),Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{id:"downloadConfigButton",className:"dashNavbarLink",onClick:function(){return A.a.get("".concat("https://dash-webservices.herokuapp.com","/config/export"),{headers:{Authorization:E(),"Content-type":"application/json"},responseType:"blob"}).then((function(e){I.info("Configuration export\xe9e");var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","dashboardConfig.json"),document.body.appendChild(n),n.click()})).catch((function(){I.error("Erreur lors de l'export de la configuration")}))},children:Object(k.jsx)("i",{className:"fa fa-download fa-lg","aria-hidden":"true"})})}),Object(k.jsx)(R,{})]})}),Object(k.jsxs)("div",{className:"flex flex-column tabsBar",children:[Object(k.jsx)(j.a,{tabs:!0,children:Object(k.jsxs)("div",{className:"flex flex-row",children:[Object(k.jsx)(l.a,{onDragEnd:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),c=a.splice(t,1),i=Object(o.a)(c,1)[0];return a.splice(n,0,i),a}(n,e.source.index,e.destination.index).map((function(e,t){return e.tabOrder=t,e}));(function(e){return A.a.post("".concat("https://dash-webservices.herokuapp.com","/tab/updateTabs"),e,{headers:{Authorization:E(),"Content-type":"application/json"}})})(t).then((function(e){a(e.data)}))}},children:Object(k.jsx)(l.c,{droppableId:"droppable",direction:"horizontal",children:function(e){return Object(k.jsxs)("div",Object(s.a)(Object(s.a)({className:"flex flex-row"},e.droppableProps),{},{ref:e.innerRef,children:[n.length>0&&n.map((function(e,t){return Object(k.jsx)(l.b,{draggableId:e.id.toString(),index:t,children:function(t){return Object(k.jsx)("div",Object(s.a)(Object(s.a)(Object(s.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{className:"tab ".concat(e.id===O?"selectedItem":""),children:Object(k.jsx)(W,{tab:e,onTabClicked:function(){return function(e){O!==e&&p(U(e))}(e.id)},onTabDeleted:w})}),e.id)}},e.id)})),e.placeholder]}))}})}),Object(k.jsx)(b.a,{onClick:g,id:"addNewTabButton",className:"fa fa-plus-circle fa-lg"}),Object(k.jsx)(b.a,{onClick:z.logout,className:"btn btn-primary",children:"Se d\xe9connecter"})]})}),Object(k.jsx)(h.a,{activeTab:O,children:n.length>0&&n.map((function(e){return Object(k.jsx)(Ie,{newWidget:(t=e.id,f&&t===f.tab.id?f:void 0),tabId:e.id},e.id);var t}))})]})]})]})}!function(e){e[e.TODAY=0]="TODAY",e[e.TOMORROW=1]="TOMORROW",e[e.WEEK=2]="WEEK"}(Ae||(Ae={}));n(576);var _e=n(56),Be={activeTab:-1},We=Object(_e.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;if(t.type===F){var n=t.payload.id;return Object(s.a)(Object(s.a)({},e),{},{activeTab:n})}return e})),Me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.render(Object(k.jsx)(i.a,{store:We,children:Object(k.jsx)(r.a,{children:Object(k.jsx)(Re,{})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Me?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ze(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ze(e)}))}}()}},[[577,1,2]]]);
//# sourceMappingURL=main.5ce4831f.chunk.js.map